@page "/castle"

<PageTitle>Castle Course</PageTitle>

<IndividualResults title="Castle Daily Individual" results="@indResults" />
<ClosestToHoleResults title="Castle Closest to Hole" results="@closestToHoleResults" />
<ChicagoPtsResults title="Castle Chicago Points" results="@matches" />
<ScatsResults title="Castle Scats" results="@scatsResults" />


@code {

    [Inject]
    public IDataService dataService { get; set; } = default!;

    private IList<DailyIndividualEntry>? indResults { get; set; } = new List<DailyIndividualEntry>();
    private IList<ClosestToHoleEntry>? closestToHoleResults { get; set; } = new List<ClosestToHoleEntry>();
    private IList<ChicagoPtsMatch>? matches { get; set; } = new List<ChicagoPtsMatch>();
    private IList<DailyScatsEntry>? scatsResults { get; set; } = new List<DailyScatsEntry>();

    private string key = "castle";

    protected override async Task OnInitializedAsync()
    {
        indResults = await dataService.GetDailyIndividualAsync(key);
        closestToHoleResults = await dataService.GetClosestToHoleAsync(key);
        matches = await dataService.GetChicagoPtsAsync(key);
        scatsResults = await dataService.GetDailyScatsAsync(key);
    }
}
