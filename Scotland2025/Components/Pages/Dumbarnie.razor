@page "/dumbarnie"

<PageTitle>Dumbarnie</PageTitle>

<CourseScorecard title="Dumbarnie Scores" round="Round 2" scorecard="@scorecard" individualScores="@indScores" />
<MudDivider class="mt-10 mb-5" />
<IndividualResults title="Dumbarnie Daily Individual" results="@indResults" />
<MudDivider class="mt-10 mb-5" />
<ClosestToHoleResults title="Dumbarnie Closest to Hole" results="@closestToHoleResults" />
<MudDivider class="mt-10 mb-5" />
<MatchPlayResults title="Dumbarnie Match Play" results="@matches" />
<MudDivider class="mt-10 mb-5" />
<Scats title="Dumbarnie Scats" round="Round 2" scorecard="@scorecard" scats="@scats" scatCalcs="@scatCalculations" />


@code {

    [Inject]
    public IDataService dataService { get; set; } = default!;

    private IList<DailyIndividualEntry>? indResults { get; set; } = new List<DailyIndividualEntry>();
    private IList<ClosestToHoleEntry>? closestToHoleResults { get; set; } = new List<ClosestToHoleEntry>();
    private IList<MatchPlayMatch>? matches { get; set; } = new List<MatchPlayMatch>();
    private IList<DailyScatsEntry>? scats { get; set; } = new List<DailyScatsEntry>();
    private IList<DailyScatCalculationEntry>? scatCalculations { get; set; } = new List<DailyScatCalculationEntry>();
    private Scorecard scorecard { get; set; } = new Scorecard();
    private IList<IndividualScores> indScores { get; set; } = new List<IndividualScores>();

    private string key = "dumbarnie";

    protected override async Task OnInitializedAsync()
    {
        indResults = await dataService.GetDailyIndividualAsync(key);
        closestToHoleResults = await dataService.GetClosestToHoleAsync(key);
        matches = await dataService.GetMatchPlayAsync(key);
        scats = await dataService.GetDailyScatsAsync(key);
        scatCalculations = await dataService.GetDailyScatCalculationsAsync(key);
        scorecard = await dataService.GetScorecardAsync(key);
        indScores = await dataService.GetIndividualScoresAsync(key);
    }
}
